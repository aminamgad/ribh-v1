# Loader عند إعادة حساب أسعار المنتجات

## الهدف
عرض مؤشر تحميل (loader) واضح عند تنفيذ إعادة حساب أسعار المنتجات (يدوياً أو بعد حفظ الإعدادات المالية)، والتأكد من أن التجربة تعمل بشكل سليم.

---

## Todo List

### 1. Loader للزر اليدوي "إعادة حساب أسعار المنتجات"
- [x] **1.1** إضافة state `recalculating` في صفحة إعدادات الأدمن (القسم المالي).
- [x] **1.2** إضافة زر "إعادة حساب أسعار المنتجات الآن" يستدعي `POST /api/admin/products/recalculate-prices`.
- [x] **1.3** أثناء الطلب: تعطيل الزر وعرض أيقونة دوّارة (RotateCw animate-spin) مع نص "جاري إعادة الحساب...".
- [x] **1.4** عند النجاح: toast بالرسالة الواردة من الـ API، وإيقاف الـ loader.
- [x] **1.5** عند الفشل: toast خطأ، وإيقاف الـ loader.

### 2. التحقق من السلوك
- [ ] **2.1** الضغط على "إعادة حساب أسعار المنتجات الآن": يظهر الـ loader فوراً ولا يختفي حتى رجوع الـ response.
- [ ] **2.2** عدم إمكانية الضغط مجدداً أثناء التحميل (الزر معطّل).
- [ ] **2.3** ظهور رسالة نجاح أو خطأ مناسبة بعد الانتهاء.

---

## ملخص التنفيذ

| الملف | التعديل |
|-------|---------|
| `app/dashboard/admin/settings/page.tsx` | إضافة `recalculating` state، زر إعادة الحساب مع loader وربط الطلب مع toast. |
